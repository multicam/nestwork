<script>
  import Chart from 'svelte-frappe-charts';
  import {compound} from '$lib/financials'

  export let property
  export let stats
  export let years

  const {stringify} = JSON, {log} = console

  $: log('---', data)

  const yearNow = new Date().getFullYear()


  $: data = {
    labels: new Array(years).fill(yearNow).map((i, n) => i + n),
    datasets: [
      // {
      //   name: "5y Median",
      //   chartType: "line",
      //   values: compound(years, property.purchasePrice, stats.median_5y),
      // },
      {
        name: "10y Average",
        chartType: "line",
        values: compound(years, property.purchasePrice, stats.average_10y_annual),
      },
    ],

    axisOptions: {
      xAxisMode: 'tick' // default: 'span'
    },

    // yMarkers: [{ label: "y Marker", value: 50 }],
    //
    // yRegions: [{ label: "y Region", start: -10, end: 10 }, { label: "hey", start: 40, end: 70 }]

  }

</script>

<Chart data={data} colors={['red','grey']}/>
<pre>{stringify({years, stats, property}, null, 2)}</pre>
